<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="LechYTDLP.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="using:LechYTDLP"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="using:LechYTDLP.Views"
        mc:Ignorable="d"
        x:Name="RootFrame"
        Title="LechYTDLP">

    <Window.SystemBackdrop>
        <MicaBackdrop Kind="Base" />
    </Window.SystemBackdrop>

    <Grid>
        <Grid.RowDefinitions>
            <!-- Title Bar -->
            <RowDefinition Height="Auto" />
            <!-- App Content -->
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <TitleBar Title="Lech YT-DLP"
                  Subtitle="Version"
                  IsBackButtonVisible="False"
                  IsPaneToggleButtonVisible="False"
                  x:Name="AppTitleBar">

            <TitleBar.IconSource>
                <ImageIconSource ImageSource="/Assets/StoreLogo.png" />
            </TitleBar.IconSource>
        </TitleBar>

        <NavigationView x:Name="NavView"
                        Grid.Row="1"
                        SelectionChanged="NavView_SelectionChanged"
                        IsBackButtonVisible="Collapsed"
                        IsSettingsVisible="True">
            <NavigationView.MenuItems>
                <NavigationViewItem Content="Downloads"
                                    Tag="DownloadsPage">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE896;" />
                    </NavigationViewItem.Icon>
                    <NavigationViewItem.InfoBadge>
                        <InfoBadge x:Name="DownloadsBadge"
                                   Value="0"
                                   Visibility="Collapsed"
                                   Opacity="{x:Bind InfoBadgeOpacity}" />
                    </NavigationViewItem.InfoBadge>
                </NavigationViewItem>
                <NavigationViewItem Content="Search"
                                    Tag="MainPage">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE721;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Options"
                                    Tag="OptionsPage">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE8A9;" 
                                  FontFamily="Segoe MDL2 Assets" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Logs"
                                    Tag="LogPage">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE9D9;" />
                    </NavigationViewItem.Icon>
                    <NavigationViewItem.InfoBadge>
                        <InfoBadge x:Name="LogBadge"
                                   Value="0"
                                   Visibility="Collapsed"
                                   Opacity="{x:Bind InfoBadgeOpacity}" />
                    </NavigationViewItem.InfoBadge>
                </NavigationViewItem>
            </NavigationView.MenuItems>

            <Grid>
                <!-- App content -->
                <Frame x:Name="AppFrame" />

                <!-- GLOBAL InfoBar (overlay) -->
                <InfoBar x:Name="GlobalInfoBar"
                         IsOpen="False"
                         IsClosable="False"
                         IsHitTestVisible="True"
                         HorizontalAlignment="Right"
                         VerticalAlignment="Bottom"
                         CornerRadius="12"
                         Shadow="{ThemeResource CommandBarFlyoutOverflowShadow}"
                         MaxWidth="400"
                         Margin="0,0,24,24" />
            </Grid>

        </NavigationView>
    </Grid>
</Window>
